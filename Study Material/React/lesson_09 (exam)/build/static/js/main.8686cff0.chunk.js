(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{27:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(19),s=n.n(a),o=n(2),u=n(9),i=n(3),j=n(0),l=r.a.createContext(),b=function(e){var t=r.a.useState([]),n=Object(o.a)(t,2),c=n[0],a=n[1];return Object(j.jsx)(l.Provider,{value:[c,a],children:e.children})},d=(n(27),n(8));var O=function(e){var t=e.setLoggedInUser,n=Object(c.useContext)(l),r=Object(o.a)(n,1)[0],a=Object(c.useState)(""),s=Object(o.a)(a,2),b=s[0],O=s[1],h=Object(c.useState)(""),x=Object(o.a)(h,2),f=x[0],p=x[1],g=Object(i.f)();return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"SV-BANK"}),Object(j.jsx)("input",{type:"text",placeholder:"Username",value:b,onChange:function(e){O(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Password",value:f,onChange:function(e){p(e.target.value)}}),Object(j.jsx)(u.b,{to:"/register",children:"Create new user"}),Object(j.jsx)("button",{onClick:function(){if("ADMIN"===b&&"ADMIN"===f)g.push("/admin");else{for(var e=Object(d.a)(r),n=!1,c=0;c<e.length;c++)if(e[c].username===b){n=c;break}!1!==n?e[n].password===f?(t(e[n]),window.alert("Logged in successfully"),g.push("/".concat(b))):window.alert("Password incorrect!"):window.alert("Username does not exist!")}},children:"ENTER"})]})},h=n(21);var x=function(e){var t=e.onClick;return Object(j.jsx)(u.b,{to:"/",children:Object(j.jsx)("button",{onClick:t,children:"Home"})})};var f=function(e){var t=e.loggedInUser,n=e.setLoggedInUser,r=Object(c.useRef)(void 0!==t),a=Object(c.useContext)(l),s=Object(o.a)(a,2),u=s[0],b=s[1],O=Object(i.f)(),f=Object(c.useState)(r.current?t.id:""),p=Object(o.a)(f,2),g=p[0],m=p[1],v=function(){var e;if(9===g.length){e=!0;for(var t=0;t<g.length;t++)if(!(g.charAt(t)>="0"&&g.charAt(t)<="9")){e=!1;break}}else e=!1;return e},w=Object(c.useState)(r.current?t.username:""),C=Object(o.a)(w,2),y=C[0],k=C[1],S=function(){return y.length>=4},N=Object(c.useState)(r.current?t.password:""),U=Object(o.a)(N,2),I=U[0],A=U[1],F=function(){return I.length>=6},E=Object(c.useState)(""),M=Object(o.a)(E,2),L=M[0],P=M[1],D=function(){return L===I},R=Object(c.useState)(r.current?t.money:""),B=Object(o.a)(R,2),T=B[0],J=B[1],Y=function(){var e=Number(T);return e>=0&&e<=1e6};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"REGISTER"}),Object(j.jsx)("input",{type:"number",placeholder:"ID",value:g,onChange:function(e){m(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"Username",value:y,onChange:function(e){k(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Password",value:I,onChange:function(e){A(e.target.value)}}),Object(j.jsx)("input",{type:"password",placeholder:"Confirm password",value:L,onChange:function(e){P(e.target.value)}}),Object(j.jsx)("input",{type:"number",placeholder:"Money",value:T,onChange:function(e){J(e.target.value)}}),Object(j.jsx)("button",{onClick:r.current?function(){if(v()&&S()&&F()&&D()&&Y()){var e=Object(h.a)({},t);e.id=g,e.username=y,e.password=I,e.money=T;for(var c=Object(d.a)(u),r=0;r<c.length;r++)if(c[r].id===t.id){c[r]=e;break}b(c),n(e),window.alert("Changes saved successfully!"),O.push("/".concat(y))}else window.alert("An error occured, failed to save changes!")}:function(){if(v()&&S()&&F()&&D()&&Y()){var e={id:g,username:y,password:I,money:T,transactions:[]},t=Object(d.a)(u);t.push(e),b(t),window.alert("User created successfully!"),O.push("/")}else window.alert("An error occured, failed to create user!")},children:r.current?"Save":"Create"}),Object(j.jsx)(x,{})]})};var p=function(e){var t=e.user,n=Object(c.useContext)(l),r=Object(o.a)(n,2),a=r[0],s=r[1],u=Object(c.useState)(""),i=Object(o.a)(u,2),b=i[0],O=i[1],h=Object(c.useState)(""),x=Object(o.a)(h,2),f=x[0],p=x[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)("input",{type:"number",placeholder:"Amount of $",value:b,onChange:function(e){O(e.target.value)}}),Object(j.jsx)("input",{type:"text",placeholder:"Name this transaction",value:f,onChange:function(e){p(e.target.value)}}),Object(j.jsx)("button",{onClick:function(){for(var e={amount:b,text:f},n=Object(d.a)(a),c=0;c<n.length;c++)if(n[c].id===t.id){n[c].transactions.push(e);var r=Number(n[c].money);r-=Number(b),r="".concat(r),n[c].money=r;break}s(n),window.alert("Transaction made!")},children:"Pay"})]})};var g=function(e){var t=e.user,n=e.loggedState,r=Object(o.a)(n,2),a=r[0],s=r[1],u=Object(c.useState)(!1),l=Object(o.a)(u,2),b=l[0],d=l[1],O=Object(i.f)();return Object(j.jsx)(j.Fragment,{children:t.id===a.id?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Welcome"}),Object(j.jsx)("h3",{children:t.username}),b&&Object(j.jsx)(p,{user:t}),Object(j.jsxs)("div",{className:"welcome-buttons",children:[Object(j.jsx)("button",{onClick:function(){window.alert("You have $".concat(t.money," in your account."))},children:"Balance"}),Object(j.jsx)("button",{onClick:function(){d(!b)},children:"Action"}),Object(j.jsx)("button",{onClick:function(){s({}),O.push("/")},children:"Exit"}),Object(j.jsx)("button",{onClick:function(){O.push("/edit")},children:"Edit"})]})]}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"You must be logged in to view this page!"}),Object(j.jsx)(x,{})]})})};var m=function(e){var t=e.user,n=e.users,r=e.setUsers,a=Object(c.useState)(!1),s=Object(o.a)(a,2),u=s[0],i=s[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("li",{children:[t.id," ",t.username," ",Object(j.jsx)("button",{onClick:function(){i(!u)},children:"More"})]}),Object(j.jsx)("ul",{children:u&&Object(j.jsxs)(j.Fragment,{children:[t.transactions.map((function(e,c){return Object(j.jsxs)("li",{className:"manage-transaction",children:[e.text," ",e.amount," ",Object(j.jsx)("button",{className:"delete-transaction",onClick:function(){!function(e){for(var c=Object(d.a)(n),a=0;a<c.length;a++)if(c[a].id===t.id){c[a].transactions.splice(e,1);break}r(c)}(c)},children:"\xd7"})]},c)})),Object(j.jsx)("button",{className:"delete-user",onClick:function(){for(var e=Object(d.a)(n),c=0;c<e.length;c++)if(e[c].id===t.id){e.splice(c,1);break}r(e)},children:"Delete User"})]})})]})};var v=function(){var e=Object(c.useContext)(l),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Manager"}),Object(j.jsx)("ul",{children:n.map((function(e){return Object(j.jsx)(m,{user:e,users:n,setUsers:r},e.id)}))}),Object(j.jsx)(x,{})]})};var w=function(){var e=Object(c.useContext)(l),t=Object(o.a)(e,1)[0],n=Object(c.useState)({}),r=Object(o.a)(n,2),a=r[0],s=r[1];return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(u.a,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:function(){return Object(j.jsx)(O,{setLoggedInUser:s})}}),Object(j.jsx)(i.a,{exact:!0,path:"/admin",component:function(){return Object(j.jsx)(v,{})}}),Object(j.jsx)(i.a,{exact:!0,path:"/register",component:function(){return Object(j.jsx)(f,{})}}),Object(j.jsx)(i.a,{exact:!0,path:"/edit",component:function(){return Object(j.jsx)(f,{loggedInUser:a,setLoggedInUser:s})}}),t.map((function(e){return Object(j.jsx)(i.a,{path:"/".concat(e.username),component:function(){return Object(j.jsx)(g,{user:e,loggedState:[a,s]})}},e.id)}))]})})})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(b,{children:Object(j.jsx)(w,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.8686cff0.chunk.js.map